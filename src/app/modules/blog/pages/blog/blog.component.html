<main parent class="bg-bluegray-400 flex p-2 m-2 gap-2 flex-column surface-overlay justify-content-center align-items-center border-round w-auto "  >
    <h1>Experiencia de los clientes</h1>
    <div class="flex flex-col justify-content-center align-items-center valoracion">
      <div class="flex flex-column align-items-center">
    <p>Valoracion de los clientes</p>
    <p-rating [readonly]="true" [cancel]="false" [(ngModel)]="promedioRedondeado"></p-rating>
        <p>{{mensajeValoracion}}</p>
        <p>{{promedioValoracion}} / 5.0</p>
      </div>
            <div class="flex flex-column align-items-center">    
              <ng-container *ngFor="let categoria of estadisticasResenas">
                <div class="barras-progreso right-section-item">
                  <div class="seccionstart">
                      {{ categoria.stars }}
                    <span class="star-icon">&#9733;</span>
                  </div>
                  <div class="progress-bar-container">
                    <div class="filled-rectangle"
                         [style.background]="categoria.stars > 5 ? 'grey' : 'cornflowerblue'"
                         [style.width.%]="categoria.numReviews">
                    </div>
                  </div>
                      <h4>{{ categoria.numReviews }}</h4>
                </div>
              </ng-container>
            </div>
        </div>

    <section *ngFor=" let user of usuario"
        class="flex flex-wrap justify-content-center gap-2">
        <app-card-blog-usuario [clientes]="usuario"> </app-card-blog-usuario>
    </section>
    <p-scrollTop target="parent" styleClass="custom-scrolltop" [threshold]="1" icon="pi pi-arrow-up"></p-scrollTop>
    <p-button label="Añadir Reseña" [raised]="true" severity="help" (click)="agregarOpinion()" ></p-button>

    <section class="flex flex-wrap">
        <app-card-blog-usuario></app-card-blog-usuario>
    </section>

</main>
<p-divider></p-divider>

